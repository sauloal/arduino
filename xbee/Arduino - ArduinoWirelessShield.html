<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0048)http://arduino.cc/en/Guide/ArduinoWirelessShield -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><link rel="stylesheet" type="text/css" href="./Arduino - ArduinoWirelessShield_files/widget079.css" media="all">
  <title>Arduino - ArduinoWirelessShield </title>
  <link rel="shortcut icon" type="image/x-icon" href="http://arduino.cc/en/favicon.png">
  <link rel="stylesheet" href="./Arduino - ArduinoWirelessShield_files/arduinoWide_SSO.css" type="text/css">
  <link href="https://plus.google.com/114839908922424087554" rel="publisher">
    <!--HeaderText--><style type="text/css"><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
span.anchor {
	float: left;
	font-size: 10px;
	margin-left: -10px;
	width: 10px;
    position:relative; top:-0.1em;
	text-align: center;
}
span.anchor a { text-decoration: none; }
span.anchor a:hover { text-decoration: underline; }
ol.toc { text-indent:-20px; list-style: none; }
ol.toc ol.toc { text-indent:-40px; }
div.tocfloat { font-size: smaller; margin-bottom: 10px;
    border-top: 1px dotted #555555; border-bottom: 1px dotted #555555;
    padding-top: 5px; padding-bottom: 5px; 
    width: 38%; float: right; margin-left: 10px; clear: right;
    margin-right:-13px; padding-right: 13px; padding-left: 13px;
    background-color: #eeeeee; }
div.toc { font-size: smaller; 
    padding: 5px; border: 1px dotted #cccccc;
    background: #f7f7f7;
    margin-bottom: 10px; }
div.toc p { background-color: #f9f6d6;
    margin-top:-5px;   padding-top: 5px;
    margin-left:-5px;  padding-left: 5px;
    margin-right:-5px; padding-right: 5px;
    padding-bottom: 3px;
    border-bottom:  1px dotted #cccccc; }.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border: 2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  td.markup1 { border-bottom: 1px solid #ccf; }
  div.faq { margin-left:2em; }
  div.faq p.question { margin: 1em 0 0.75em -2em; font-weight:bold; }
  div.faq hr { margin-left: -2em; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.arduino  {font-family:monospace;}
.arduino .imp {font-weight: bold; color: red;}
.arduino .kw1 {color: #CC6600;}
.arduino .kw2 {color: #006699;}
.arduino .kw3 {color: #CC6600; font-weight: bold;}
.arduino .co1 {color: #7E7E7E; font-style: italic;}
.arduino .co2 {color: #7E7E7E;}
.arduino .coMULTI {color: #7E7E7E; font-style: italic;}
.arduino .es0 {color: #000099; font-weight: bold;}
.arduino .es1 {color: #000099; font-weight: bold;}
.arduino .es2 {color: #660099; font-weight: bold;}
.arduino .es3 {color: #660099; font-weight: bold;}
.arduino .es4 {color: #660099; font-weight: bold;}
.arduino .es5 {color: #006699; font-weight: bold;}
.arduino .br0 {color: #000000;}
.arduino .sy0 {color: #000000;}
.arduino .st0 {color: #0066CC;}
.arduino .nu0 {color: #000000;}
.arduino .nu6 {color: #208080;}
.arduino .nu8 {color: #208080;}
.arduino .nu12 {color: #208080;}
.arduino .nu16 {color:#800080;}
.arduino .nu17 {color:#800080;}
.arduino .nu18 {color:#800080;}
.arduino .nu19 {color:#800080;}
.arduino .me1 {color: #ff1493;}
.arduino .me2 {color: #ff1493;}
.arduino span.xtra { display:block; }

.sourceblocklink {
  text-align: right;
  font-size: smaller;
}
.sourceblocktext {
  padding: 0.5em;
  color: #000000;
  background-color: #ffffff;
}
.sourceblocktext div {
  font-family: monospace;
  font-size: small;
  line-height: 1;
  height: 1%;
}
.sourceblocktext div.head,
.sourceblocktext div.foot {
  font: italic medium serif;
  padding: 0.5em;
}

--></style><script type="text/javascript">
function toggle(obj) {
    var elstyle = document.getElementById(obj).style;
    var text    = document.getElementById(obj + "tog");
    if (elstyle.display == 'none') {
        elstyle.display = 'block';
        text.innerHTML = "hide";
    } else {
        elstyle.display = 'none';
        text.innerHTML = "show";
    }
}
</script><link type="text/css" rel="stylesheet" href="data:text/css,">  <meta name="robots" content="index,follow">

  <meta name="verify-v1" content="TtxFIEJAB6zdJ509wLxjnapQzKAMNm9u0Wj4ho6wxIY=">
  <script src="./Arduino - ArduinoWirelessShield_files/sso_bar_js_2.php"></script>
  <link rel="stylesheet" type="text/css" media="screen" href="./Arduino - ArduinoWirelessShield_files/sso_bar.css">
<script type="text/javascript" src="./Arduino - ArduinoWirelessShield_files/core000.js"></script><script>window["_GOOG_TRANS_EXT_VER"] = "1";</script></head>
<body><div style="visibility: hidden; height: 1px; width: 1px; position: absolute; z-index: 100000; " id="_atssh"><iframe id="_atssh123" title="AddThis utility frame" style="height: 1px; width: 1px; position: absolute; z-index: 100000; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; border-image: initial; left: 0px; top: 0px; " src="./Arduino - ArduinoWirelessShield_files/sh078.html"></iframe></div>

		<div id="ssotoolbar">
		  <div id="al">
			<nobr><div id="ssoNavBar"><a class="t1" href="http://arduino.cc/en/">Main Site</a> <a class="t0" href="http://arduino.cc/blog/">Blog</a> <a class="t0" href="http://arduino.cc/playground/">Playground</a> <a class="t0" href="http://arduino.cc/forum/">Forum</a> <a class="t0" href="http://labs.arduino.cc/">Labs</a> <a class="t0" href="http://store.arduino.cc/ww/">Store</a> </div></nobr>
		  </div>
		  <div id="ar">
			<nobr>
			  <div id="loginInfo"><div class="lo gh"><a class="t0" href="http://arduino.cc/help/">Help</a></div> <div class="lo sep">|</div> <div class="lo"><a href="https://id.arduino.cc/auth/login/?returnurl=http%3A%2F%2Farduino.cc%2Fen%2FMain%2FArduinoWirelessShield">Sign in</a> or <a href="https://id.arduino.cc/auth/register/?returnurl=http%3A%2F%2Farduino.cc%2Fen%2FMain%2FArduinoWirelessShield">Register</a></div></div>
			</nobr>
		  </div>
		</div>
		<script>ssoGenerateNavigationBar('');</script>
<div id="page">
<!--PageHeaderFmt-->
<div id="pageheader">
  <div class="title"><a href="http://arduino.cc/en">Arduino</a></div>
  <div class="search">
    <!-- SiteSearch Google -->
    <form method="GET" action="http://www.google.com/search">
    <input type="hidden" name="ie" value="UTF-8">
    <input type="hidden" name="oe" value="UTF-8">
    <input type="text" name="q" size="25" maxlength="255" value="">
    <input type="submit" name="btnG" value="search">
    <input type="hidden" name="domains" value="http://www.arduino.cc/">
    <input type="hidden" name="sitesearch" value="http://www.arduino.cc/">
    </form>
    <!-- SiteSearch Google -->
  </div>
</div>
<!--/PageHeaderFmt-->
<!--PageLeftFmt-->
<div id="pagenav">
  <div id="navbar">
  	<p><a class="wikilink" href="http://arduino.cc/en/Main/Buy">Buy</a>
<a class="wikilink" href="http://arduino.cc/en/Main/Software">Download</a>
<a class="wikilink" href="http://arduino.cc/en/Guide/HomePage">Getting Started</a>
<a class="wikilink" href="http://arduino.cc/en/Tutorial/HomePage">Learning</a>
<a class="wikilink" href="http://arduino.cc/en/Reference/HomePage">Reference</a>
<a class="wikilink" href="http://arduino.cc/en/Main/Hardware">Hardware</a>
<a class="wikilink" href="http://arduino.cc/en/Main/FAQ">FAQ</a>
</p>
<p class="vspace"></p>

  </div>
</div>
<!--/PageLeftFmt-->
<div id="pagetext">
<!--PageText-->
<div id="wikitext">
<h2>Arduino Wireless Shield with the <span class="wikiword">XBee</span> 802.15.4 modules</h2>
<p>The Arduino Wireless shield allows your Arduino board to communicate wirelessly using Zigbee.  This documentation describes the use of the shield with the <span class="wikiword">XBee</span> 802.15.4 module (sometimes called "Series 1" to distinguish them from the Series 2 modules, although "Series 1" doesn't appear in the official name or product description). 
</p>
<p class="vspace"></p><h3>A Simple Example</h3>
<p>You should be able to get two Arduino boards with Wireless shields talking to each other without any configuration, using just the standard Arduino serial commands (described in the <a class="wikilink" href="http://arduino.cc/en/Reference/HomePage">reference</a>).  
</p>
<p class="vspace"></p><p>To upload a sketch to an Arduino board with a Wireless shield, remove the Xbee.  Then, you can upload a sketch normally from the Arduino environment.  In this case, upload the <strong>Communication | Physical Pixel</strong> sketch to one of the boards.  This sketch instructs the board to turn on the LED attached to pin 13 whenever it receives an 'H' over its serial connection, and turn the LED off when it gets an 'L'.  You can test it by connecting to the board with the Arduino serial monitor (be sure it's set at 9600 baud), typing an H, and pressing enter (or clicking send).  The LED should turn on.  Send an L and the LED should turn off.  If nothing happens, you may have an Arduino board that doesn't have a built-in LED on pin 13 (see the <a class="wikilink" href="http://arduino.cc/en/Main/Boards">board index</a> to check for sure), in this case you'll need to supply your own.
</p>
<p class="vspace"></p><p>Once you've uploaded the Physical Pixel sketch and made sure that it's working, unplug the first Arduino board from the computer. Change the switch to the Micro setting.  Now, you need to upload a sketch to the other board.  Make sure its switch is in the USB setting.  Then upload the following sketch to the board:
</p>
<p class="vspace"></p><p>
</p><div class="sourceblock " id="sourceblock1">
  <div class="sourceblocktext"><div class="arduino"><span class="kw1">void</span> <span class="kw3">setup</span><span class="br0">(</span><span class="br0">)</span><br>
<span class="br0">{</span><br>
&nbsp; <span class="kw1">Serial</span>.<span class="kw1">begin</span><span class="br0">(</span><span class="nu0">9600</span><span class="br0">)</span><span class="sy0">;</span><br>
<span class="br0">}</span><br>
<br>
<span class="kw1">void</span> <span class="kw3">loop</span><span class="br0">(</span><span class="br0">)</span><br>
<span class="br0">{</span><br>
&nbsp; <span class="kw1">Serial</span>.<span class="kw1">print</span><span class="br0">(</span><span class="st0">'H'</span><span class="br0">)</span><span class="sy0">;</span><br>
&nbsp; <span class="kw1">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy0">;</span><br>
&nbsp; <span class="kw1">Serial</span>.<span class="kw1">print</span><span class="br0">(</span><span class="st0">'L'</span><span class="br0">)</span><span class="sy0">;</span><br>
&nbsp; <span class="kw1">delay</span><span class="br0">(</span><span class="nu0">1000</span><span class="br0">)</span><span class="sy0">;</span><br>
<span class="br0">}</span></div></div>
  <div class="sourceblocklink"><a href="http://arduino.cc/en/Guide/ArduinoWirelessShield?action=sourceblock&num=1" type="text/plain">[Get Code]</a></div>
</div>

<p></p>
<p class="vspace"></p><p>When it's finished uploading, you can check that it's working with the Arduino serial monitor.  You should see H's and L's arriving one a second.  Turn off the serial monitor and unplug the board.  Change the switch to the Micro setting.  Now connect both boards to power.  After a few seconds, you should see the LED on the first board turn on and off, once a second.  (This is the LED on the Arduino board itself, not the one on the Xbee shield, which conveys information about the state of the Xbee module.)  If so, congratulations, your Arduino boards are communicating wirelessly. 
</p>
<p class="vspace"></p><h3>A Few Notes</h3>
<p>You can use any of the standard Arduino serial commands with the Xbee shield.  With the switch in the Micro position, the print and println commands will send data over the Xbee shield and the USB connection (i.e. to other Xbee shields and to the computer at the same time).  In this configuration, however, the board will only receive data from the Xbee shield not from the USB connection.  
</p>
<p class="vspace"></p><p>The Xbee module on the shield is set up to work at 9600 baud by default, so unless you reconfigure it, you'll need to make sure you're passing 9600 to the Serial.begin() command in your sketch.
</p>
<p class="vspace"></p><p>To allow your computer to communicate directly with the Xbee shield, connect it to an Arduino board whose microcontroller has been removed and place the switch in the USB configuration.  Then you can send data to and receive data from the Xbee module from any terminal program.  This allows you, for example, to see the data that the module is receiving from other Xbee shields (e.g. to collect sensor data wirelessly from a number of locations).
</p>
<p class="vspace"></p><h3>Configuring the Xbee Module</h3>
<p>You can configure the Xbee module from code running on the Arduino board or from software on the computer.  To configure it from the Arduino board, you'll need to have the switch in the Micro position.  To configure it from the computer, you'll need to have the switch in the USB position and have removed the microncontroller from your Arduino board.  
</p>
<p class="vspace"></p><p>To get the module into configuration mode, you need to send it three plus signs: +++ and there needs to be at least one second before and after during which you send no other character to the module.  Note that this includes newlines or carriage return characters.  Thus, if you're trying to configure the module from the computer, you need to make sure your terminal software is configured to send characters as you type them, without waiting for you to press enter.  Otherwise, it will send the plus signs immediately followed by a newline (i.e. you won't get the needed one second delay after the +++).  If you successfully enter configuration mode, the module will send back the two characters 'OK', followed by a carriage return.
</p>
<p class="vspace"></p>
<table width="60%"><tbody><tr><td width="50%" valign="top"> Send Command
</td><td width="50%" valign="top"> Expected Response 
</td></tr><tr><td valign="top"> <code>+++</code>
</td><td valign="top"> <code>OK</code><em>&lt;CR&gt;</em>
</td></tr></tbody></table>
<p class="vspace"></p><p>Once in configuration mode, you can send AT commands to the module.  Command strings have the form <span class="wikiword">ATxx</span> (where xx is the name of a setting).  To read the current value of the setting, send the command string followed by a carriage return.  To write a new value to the setting, send the command string, immediately followed by the new setting (with no spaces or newlines in-between), followed by a carriage return.  For example, to read the network ID of the module (which determines which other Xbee modules it will communicate with), use the <em>'ATID</em> command:
</p>
<p class="vspace"></p>
<table width="60%"><tbody><tr><td width="50%" valign="top"> Send Command
</td><td width="50%" valign="top"> Expected Response 
</td></tr><tr><td valign="top"> <code>ATID</code><em>&lt;enter&gt;</em>
</td><td valign="top"> <code>3332</code><em>&lt;CR&gt;</em>
</td></tr></tbody></table>
<p class="vspace"></p><p>To change the network ID of the module:
</p>
<p class="vspace"></p>
<table width="60%"><tbody><tr><td width="50%" valign="top"> Send Command
</td><td width="50%" valign="top"> Expected Response 
</td></tr><tr><td valign="top"> <code><span class="wikiword">ATID3331</span></code><em>&lt;enter&gt;</em>
</td><td valign="top"> <code>OK</code><em>&lt;CR&gt;</em>
</td></tr></tbody></table>
<p class="vspace"></p><p>Now, check that the setting has taken effect:
</p>
<p class="vspace"></p>
<table width="60%"><tbody><tr><td width="50%" valign="top"> Send Command
</td><td width="50%" valign="top"> Expected Response 
</td></tr><tr><td valign="top"> <code>ATID</code><em>&lt;enter&gt;</em>
</td><td valign="top"> <code>3331</code><em>&lt;CR&gt;</em>
</td></tr></tbody></table>
<p class="vspace"></p><p>Unless you tell the module to write the changes to non-volatile (long-term) memory, they will only be in effect until the module loses power.  To save the changes permanently (until you explicitly modify them again), use the <strong>ATWR</strong> command:
</p>
<p class="vspace"></p>
<table width="60%"><tbody><tr><td width="50%" valign="top"> Send Command
</td><td width="50%" valign="top"> Expected Response 
</td></tr><tr><td valign="top"> <code>ATWR</code><em>&lt;enter&gt;</em>
</td><td valign="top"> <code>OK</code><em>&lt;CR&gt;</em>
</td></tr></tbody></table>
<p class="vspace"></p><p>To reset the module to the factory settings, use the <strong>ATRE</strong> command:
</p>
<p class="vspace"></p>
<table width="60%"><tbody><tr><td width="50%" valign="top"> Send Command
</td><td width="50%" valign="top"> Expected Response 
</td></tr><tr><td valign="top"> <code>ATRE</code><em>&lt;enter&gt;</em>
</td><td valign="top"> <code>OK</code><em>&lt;CR&gt;</em>
</td></tr></tbody></table>
<p class="vspace"></p><p>Note that like the other commands, the reset will not be permanent unless you follow it with the <strong>ATWR</strong> comamand.
</p>
<p class="vspace"></p><h3>References</h3>
<p>For more information, see: the <a class="wikilink" href="http://arduino.cc/en/Main/ArduinoWirelessShield">hardware page</a> for the Xbee shield, and the <a class="urllink" href="http://www.digi.com/products/wireless-wired-embedded-solutions/zigbee-rf-modules/point-multipoint-rfmodules/" rel="nofollow">Digi Xbee page</a>.
The text of the Arduino getting started guide is licensed under a
<a class="urllink" href="http://creativecommons.org/licenses/by-sa/3.0/" rel="nofollow">Creative Commons Attribution-ShareAlike 3.0 License</a>.  Code samples in the guide are released into the public domain.
</p>
</div>


<!-- AddThis Button BEGIN -->
<script type="text/javascript">var addthis_language = "en";
</script>
<div class="addthis_container addthis_toolbox addthis_default_style" addthis:url="http://arduino.cc/en/Guide/ArduinoWirelessShield" addthis:title="Arduino Wiki English">
<a href="http://www.addthis.com/bookmark.php?v=250&username=arduinoteam" class="addthis_button_compact at300m"><span class="at16nc at300bs at15nc at15t_compact at16t_compact"><span class="at_a11y">More Sharing Services</span></span>Share</a><span class="addthis_separator">|</span><a class="addthis_button_email at300b" title="Email" href="http://arduino.cc/en/Guide/ArduinoWirelessShield#"><span class="at16nc at300bs at15nc at15t_email at16t_email"><span class="at_a11y">Share on email</span></span></a><a class="addthis_button_favorites at300b" title="Save to Favorites" href="http://arduino.cc/en/Guide/ArduinoWirelessShield#"><span class="at16nc at300bs at15nc at15t_favorites at16t_favorites"><span class="at_a11y">Share on favorites</span></span></a><a class="addthis_button_print at300b" title="Print" href="http://arduino.cc/en/Guide/ArduinoWirelessShield#"><span class="at16nc at300bs at15nc at15t_print at16t_print"><span class="at_a11y">Share on print</span></span></a><a class="addthis_button_facebook at300b" title="Send to Facebook" href="http://arduino.cc/en/Guide/ArduinoWirelessShield#"><span class="at16nc at300bs at15nc at15t_facebook at16t_facebook"><span class="at_a11y">Share on facebook</span></span></a><a class="addthis_button_twitter at300b" title="Tweet This" href="http://arduino.cc/en/Guide/ArduinoWirelessShield#"><span class="at16nc at300bs at15nc at15t_twitter at16t_twitter"><span class="at_a11y">Share on twitter</span></span></a><script type="text/javascript" src="./Arduino - ArduinoWirelessShield_files/addthis_widget.js"></script><div class="atclear"></div></div>
<!-- AddThis Button END -->

</div>
<!--PageFooterFmt-->
<div id="pagefooter">
©Arduino | 
  <a href="http://arduino.cc/en/Guide/ArduinoWirelessShield?action=edit">Edit Page</a> | <a href="http://arduino.cc/en/Guide/ArduinoWirelessShield?action=diff">Page History</a> | <a href="http://arduino.cc/en/Guide/ArduinoWirelessShield?action=print" target="_blank">Printable View</a> | <a href="http://arduino.cc/en/Site/AllRecentChanges">All Recent Site Changes</a>
</div>
<!--/PageFooterFmt-->
</div>

<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? 
"https://stats.arduino.cc/piwik/" : "http://stats.arduino.cc/piwik/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./Arduino - ArduinoWirelessShield_files/piwik.js" type="text/javascript"></script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript>&lt;p&gt;&lt;img 
src="http://stats.arduino.cc/piwik/piwik.php?idsite=1" style="border:0" 
alt="" /&gt;&lt;/p&gt;</noscript>
<!-- End Piwik Tracking Code -->



<div class="ugdv_contextMenu" id="ugdv_myMenu" style="display: none; "><ul id="ugdv_contextMenu"><li id="ugdv_menuItem_google_docs">Open in Google Docs Viewer</li><li id="ugdv_menuItem_new_tab">Open link in new tab</li><li id="ugdv_menuItem_new_window">Open link in new window</li><li id="ugdv_menuItem_new_incognito">Open link in new incognito window</li><li class="ugdv_seperator"></li><li id="ugdv_menuItem_download_file">Download file</li><li id="ugdv_menuItem_copy">Copy link address</li><li id="ugdv_menuItem_editpdf">Edit PDF File on PDFescape.com</li></ul></div><div id="ugdv_jqContextMenu" style="display: none; position: absolute; z-index: 9999; "></div><div style="background-color: rgb(0, 0, 0); position: absolute; opacity: 0.2; z-index: 9998; display: none; "></div><div style="display: none; " id="hiddenlpsubmitdiv"></div><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ d.innerText=i; } } d.dispatchEvent(customEvent); form.lpsubmitorig2(); } } }}catch(e){}</script></body></html>